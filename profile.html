<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración de Perfil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        /* Estilos básicos para mobile */
        body { background-color: #f8f9fa; }
        .card { border: none; border-radius: 12px; }
    </style>
</head>
<body>

    <div class="container-fluid py-3">
        
        <div class="d-flex align-items-center mb-4">
            <button id="backToHomeBtn" class="btn btn-outline-secondary me-3" title="Volver al Balance">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h1 class="h4 mb-0 fw-bold">
                <i class="fas fa-user-cog me-2 text-primary"></i>Configuración de Perfil
            </h1>
        </div>

        <form id="userProfileForm" class="d-grid gap-4">

            <div class="card p-4 shadow-sm">
                <h5 class="h6 fw-bold mb-3 text-primary"><i class="fas fa-user-check me-2"></i>1. Datos y Metas</h5>
                <div class="row g-3">
                    <div class="col-6"><label for="inputEdad" class="form-label">Edad (años)</label><input type="number" class="form-control" id="inputEdad" value="25" required min="18" max="99"></div>
                    <div class="col-6"><label for="selectSexo" class="form-label">Sexo</label><select class="form-select" id="selectSexo"><option value="masculino" selected>Masculino</option><option value="femenino">Femenino</option></select></div>
                    <div class="col-6"><label for="inputAltura" class="form-label">Altura (cm)</label><input type="number" class="form-control" id="inputAltura" value="175" required min="100" max="250"></div>
                    <div class="col-6"><label for="inputPesoActual" class="form-label">Peso Actual (kg)</label><input type="number" step="0.1" class="form-control" id="inputPesoActual" value="75" required min="30" max="300"></div>
                    <div class="col-6"><label for="inputPesoObjetivo" class="form-label">Peso Objetivo (kg)</label><input type="number" step="0.1" class="form-control" id="inputPesoObjetivo" value="72" required min="30" max="300"></div>
                    <div class="col-6"><label for="inputRitmoSemanal" class="form-label">Ritmo Semanal (kg)</label><input type="number" step="0.1" class="form-control" id="inputRitmoSemanal" value="0.5" required min="0.1" max="1.5"></div>
                    <div class="col-12">
                        <label for="selectObjetivo" class="form-label">Objetivo Principal</label>
                        <select class="form-select" id="selectObjetivo">
                            <option value="perder_peso">Perder Peso</option>
                            <option value="definición" selected>Definición</option>
                            <option value="mantener">Mantener</option>
                            <option value="ganar_musculo">Ganar Músculo</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="card p-4 shadow-sm">
                <h5 class="h6 fw-bold mb-3 text-primary"><i class="fas fa-balance-scale me-2"></i>2. Macros y Cálculo</h5>
                <div class="mb-3">
                    <label for="inputTDEE" class="form-label">Calorías de Mantenimiento (TDEE)</label>
                    <input type="number" class="form-control" id="inputTDEE" value="2712" readonly>
                    <div class="form-text">Este valor es calculado.</div>
                </div>
                <div class="row g-3">
                    <div class="col-6"><label for="inputProteinaMin" class="form-label">Proteína Mín. (g)</label><input type="number" class="form-control" id="inputProteinaMin" value="105" required min="50"></div>
                    <div class="col-6"><label for="inputProteinaMax" class="form-label">Proteína Máx. (g)</label><input type="number" class="form-control" id="inputProteinaMax" value="165" required min="50"></div>
                    <div class="col-6"><label for="inputCarbosRango" class="form-label">Carbos (%)</label><input type="text" class="form-control" id="inputCarbosRango" value="40-50%" placeholder="Ej: 40-50%"></div>
                    <div class="col-6"><label for="inputGrasasRango" class="form-label">Grasas (%)</label><input type="text" class="form-control" id="inputGrasasRango" value="25-35%" placeholder="Ej: 25-35%"></div>
                </div>
            </div>

            <div class="card p-4 shadow-sm">
                <h5 class="h6 fw-bold mb-3 text-primary"><i class="fas fa-dumbbell me-2"></i>3. Fitness y Entrenamiento</h5>
                <div class="mb-3">
                    <label for="selectNivelActividad" class="form-label">Nivel de Actividad</label>
                    <select class="form-select" id="selectNivelActividad">
                        <option value="moderado" selected>Moderado</option>
                        </select>
                </div>
                <div class="mb-3">
                    <label for="inputTipoEntrenamiento" class="form-label">Tipo de Entrenamiento</label>
                    <input type="text" class="form-control" id="inputTipoEntrenamiento" value="Fuerza (4 días) + Cardio (1 día)">
                </div>
                <div class="mb-3">
                    <label for="inputObjetivoRendimiento" class="form-label">Objetivo de Rendimiento</label>
                    <input type="text" class="form-control" id="inputObjetivoRendimiento" value="Ser mas atlético">
                </div>
                <div class="mb-3">
                    <label for="inputFrecuenciaSemanal" class="form-label">Días/Semana</label>
                    <input type="number" class="form-control" id="inputFrecuenciaSemanal" value="5" min="0" max="7">
                </div>
            </div>

            <div class="card p-4 shadow-sm">
                <h5 class="h6 fw-bold mb-3 text-primary"><i class="fas fa-leaf me-2"></i>4. Hábitos y Restricciones</h5>
                <div class="form-check form-switch mb-3">
                    <input class="form-check-input" type="checkbox" id="checkEvitaUltraprocesados" checked>
                    <label class="form-check-label" for="checkEvitaUltraprocesados">Evitar Ultraprocesados</label>
                </div>
                <div class="mb-3">
                    <label for="inputAlergias" class="form-label">Alergias / Restricciones</label>
                    <input type="text" class="form-control" id="inputAlergias" value="ninguna" placeholder="Separar por coma">
                </div>
                <div class="row g-3 mb-3">
                    <div class="col-6"><label for="inputHoraDormir" class="form-label">Hora de Dormir</label><input type="time" class="form-control" id="inputHoraDormir" value="00:30"></div>
                    <div class="col-6"><label for="inputHoraDespertar" class="form-label">Hora de Despertar</label><input type="time" class="form-control" id="inputHoraDespertar" value="08:30"></div>
                </div>
                <div class="mb-3">
                    <label for="inputTiempoCocina" class="form-label">Tiempo de Cocina (Ej: 40 mins por día)</label>
                    <input type="text" class="form-control" id="inputTiempoCocina" value="40 mins por dia">
                </div>
            </div>

            <div class="card p-4 shadow-sm">
                <h5 class="h6 fw-bold mb-3 text-primary"><i class="fas fa-utensils me-2"></i>5. Alimentos Favoritos</h5>
                <div class="mb-3">
                    <label for="textareaProteinas" class="form-label">Fuentes de Proteína</label>
                    <textarea class="form-control" id="textareaProteinas" rows="4">Pollo (cualquier corte)
Carne (cualquier corte)
Pescado
Atún en lata</textarea>
                </div>
                <div class="mb-3">
                    <label for="textareaCarbohidratos" class="form-label">Fuentes de Carbohidratos</label>
                    <textarea class="form-control" id="textareaCarbohidratos" rows="4">Pan integral de masa madre
Frutas de todo tipo
Zapallo
Papa</textarea>
                </div>
                <div class="mb-3">
                    <label for="textareaPlatosFavoritos" class="form-label">Platos Favoritos Completos</label>
                    <textarea class="form-control" id="textareaPlatosFavoritos" rows="3">Tarta de espinaca mixeada con pollo
Lentejas (guiso/estofado)</textarea>
                </div>
            </div>

            <button type="submit" class="btn btn-primary btn-lg w-100 mb-5">
                <i class="fas fa-save me-2"></i>Guardar y Calcular Perfil
            </button>
        </form>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="./profile-script.js"></script>
    <script>
        // Lógica simple de redirección para volver al index.html
        document.getElementById('backToHomeBtn').addEventListener('click', () => {
             window.location.href = 'index.html';
        });
    </script>
</body>
</html>